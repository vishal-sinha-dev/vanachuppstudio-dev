{%- liquid
  assign aspect_ratio = 100.0 | divided_by: section.settings.aspect-ratio | round: 4
  assign bg_color = section.settings.background-color
  assign container_width = section.settings.container-width
  assign light_text = section.settings.light-text
  assign mobile_aspect_ratio = 100.0 | divided_by: section.settings.mobile-aspect-ratio | round: 4
  assign spacing_above = section.settings.spacing-above
  assign spacing_below = section.settings.spacing-below
-%}

<div
  class="featured-video--root"
  data-section-id="{{ section.id }}"
  data-background-color="{{ bg_color }}"
  data-container-width="{{ container_width }}"
  data-light-text="{{ light_text }}"
  data-spacing-above="{{ spacing_above }}"
  data-spacing-below="{{ spacing_below }}"
>
  {%-
    render 'featured-video',
    aspect_ratio: aspect_ratio,
    mobile_aspect_ratio: mobile_aspect_ratio,
    button_text: section.settings.button-text,
    button_url: section.settings.button-url,
    darken_video: section.settings.darken-video,
    heading: section.settings.heading,
    light_text: light_text,
    sub_heading: section.settings.sub-heading,
    play_button_style: section.settings.play-button-style,
    thumbnail: section.settings.image,
    unique_id: section.id,
    video_upload: section.settings.video-upload,
    video_url: section.settings.video-url
  -%}
</div>

{% schema %}
  {
    "name": "Video",
    "settings": [
      {
        "type": "header",
        "content": "Style and layout"
      },
      {
        "id": "aspect-ratio",
        "label": "Aspect ratio",
        "type": "range",
        "min": 24,
        "max": 200,
        "step": 2,
        "default": 56
      },
      {
        "id": "container-width",
        "label": "Maximum width of container",
        "type": "range",
        "min": 1,
        "max": 6,
        "step": 1,
        "default": 6
      },
      {
        "id": "spacing-above",
        "label": "Spacing above",
        "type": "checkbox",
        "default": false
      },
      {
        "id": "spacing-below",
        "label": "Spacing below",
        "type": "checkbox",
        "default": false
      },
      {
        "id": "background-color",
        "label": "Background color",
        "type": "select",
        "options": [
          { "label": "None", "value": "none" },
          { "label": "Light", "value": "light" },
          { "label": "Dark", "value": "dark" },
          { "label": "Accent 1", "value": "accent-1" },
          { "label": "Accent 2", "value": "accent-2" }
        ],
        "default": "none"
      },
      {
       "id": "light-text",
       "label": "Use light text color",
       "type": "checkbox",
       "default": true
      },
      {
        "id": "play-button-style",
        "label": "Play button style",
        "type": "select",
        "options": [
          { "label": "Solid", "value": "solid" },
          { "label": "Outline", "value": "outline" }
        ],
        "default": "solid"
      },
      {
        "type": "checkbox",
        "id": "darken-video",
        "label": "Darken Video",
        "default": true,
        "info": "Can enhance text visibility"
      },
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "video",
        "id": "video-upload",
        "label": "Video upload"
      },
      {
        "type": "video_url",
        "id": "video-url",
        "label": "Video URL",
        "accept": ["youtube", "vimeo"]
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Thumbnail",
        "info": "1500 x 800px recommended"
      },

      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Video"
      },
      {
        "type": "textarea",
        "id": "sub-heading",
        "label": "Subheading",
        "default": "Add a subheading here"
      },
      {
        "type": "text",
        "id": "button-text",
        "label": "Button text",
        "default": "button"
      },
      {
        "type": "url",
        "id": "button-url",
        "label": "Button URL"
      },
      {
        "type": "header",
        "content": "Mobile"
      },
      {
        "id": "mobile-aspect-ratio",
        "label": "Mobile aspect ratio",
        "type": "range",
        "min": 24,
        "max": 200,
        "step": 2,
        "default": 134
      }
    ],
    "presets": [
      {
        "name": "Video"
      }
    ]
  }
{% endschema %}
